<?xml version="1.0" encoding="UTF-8"?>
<EmaConfig>
	
<NiProviderGroup>
	<!-- DefaultNiProvider parameter defines which provider configuration is used by OmmProvider		-->
	<!-- if application does not specify it through OmmNiProviderConfig::providerName()					-->
	<!-- first provider on the NiProviderList is a DefaultNiProvider if this parameter is not specified	-->
	<DefaultNiProvider value="SingleProvider"/>
	<NiProviderList>
		<NiProvider>
			<!-- Name is mandatory																		-->
			<Name value="SingleProvider"/>
			
			<!-- Channel is optional: defaulted to "RSSL_SOCKET + localhost + 14003"					-->
			<Channel value="Channel_1"/>

			<Directory value="Directory_1"/>
			<ReconnectAttemptLimit value="2"/>
            <ReconnectMinDelay value="1000"/>
            <ReconnectMaxDelay value="1000"/>
			<RemoveItemsOnDisconnect value="1"/>
			<RecoverUserSubmitSourceDirectory value="1"/>
			<XmlTraceToStdout value="0"/>
			<XmlTraceToFile value="0"/>
			<XmlTraceMaxFileSize value="40000"/>
			<XmlTraceFileName value="log_test_server"/>
			<XmlTraceToMultipleFiles value="0"/>
			<XmlTraceWrite value="0"/>
			<XmlTraceRead value="0"/>
			<XmlTracePing value="0"/>
		</NiProvider>
		
		<NiProvider>
			<!-- Name is mandatory																		-->
			<Name value="SingleProvider_RecoverUserSubmitSourceDirectoryOff"/>
			
			<!-- Channel is optional: defaulted to "RSSL_SOCKET + localhost + 14003"					-->
			<Channel value="Channel_1"/>
			
			<!-- Directory is optional.																	-->
			<!-- the EMA provides hardcoded directory containing a single service named "NI_PUB".		-->
			<!-- the EMA defaults the OmmNiProviderConfig::adminControlDirectory() to ApiControlEnum.	-->
			<!-- the applications may just use the hardcoded "NI_PUB" service to publish all the items.	-->
			<!-- if desired, a custom directory may be configured, named and used instead of the		-->
			<!-- hardcoded one.	Please see examples in the DirectoryGroup.								-->
			<!-- the directory may also be specified using OmmNiProviderConfig::addAdminMsg().			-->
			<!-- if desired the OmmNiProviderConfig::adminControlDirectory() to UserControlEnum			-->
			<!-- which allows applications to specify and control the directory.						-->
			<Directory value="Directory_1"/>
			<RemoveItemsOnDisconnect value="1"/>
			<RecoverUserSubmitSourceDirectory value="0"/>
			<ReconnectAttemptLimit value="2"/>
            <ReconnectMinDelay value="1000"/>
            <ReconnectMaxDelay value="1000"/>
			<XmlTraceToStdout value="0"/>
			<XmlTraceToFile value="0"/>
			<XmlTraceMaxFileSize value="40000"/>
			<XmlTraceFileName value="log_test_server"/>
			<XmlTraceToMultipleFiles value="0"/>
			<XmlTraceWrite value="0"/>
			<XmlTraceRead value="0"/>
			<XmlTracePing value="0"/>
		</NiProvider>
		
		<NiProvider>
			<Name value="Provider_3"/>

			<!-- channel is optional: defaulted to "RSSL_SOCKET + localhost + 14002" -->
			<ChannelSet value="Channel_2, Channel_3"/>
			<Directory value="Directory_2"/>
			
			<ReconnectAttemptLimit value="5"/>
			<ReconnectMinDelay value="330" />
			<ReconnectMaxDelay value="450" />
			<!-- XmlTraceFileName value="EmaMyTrace3"/ -->
			<XmlTraceMaxFileSize value="66666666" />
			<XmlTraceToStdout value="0" />
			<XmlTraceToFile value="0" />
			<XmlTraceFileName value="log_test_server"/>
			<XmlTraceToMultipleFiles value="1" />
			<XmlTraceWrite value="1"/>
			<XmlTraceRead value="1"/>
			<XmlTracePing value="1"/>
			<XmlTraceHex value="1"/>
		</NiProvider>
		
		<NiProvider>
			<Name value="Provider_Session_1"/>

			<SessionChannelSet value="Connection_1, Connection_2"/>

			<Directory value="Directory_1"/>
			
			<ReconnectAttemptLimit value="5"/>
			<ReconnectMinDelay value="330" />
			<ReconnectMaxDelay value="450" />
			<!-- XmlTraceFileName value="EmaMyTrace3"/ -->
			<XmlTraceMaxFileSize value="66666666" />
			<XmlTraceToStdout value="0" />
			<XmlTraceToFile value="0" />
			<XmlTraceFileName value="log_test_server"/>
			<XmlTraceToMultipleFiles value="1" />
			<XmlTraceWrite value="1"/>
			<XmlTraceRead value="1"/>
			<XmlTracePing value="1"/>
			<XmlTraceHex value="1"/>
		</NiProvider>
		<NiProvider>
			<Name value="Provider_Session_ChannelSet"/>

			<SessionChannelSet value="Connection_3, Connection_4"/>

			<Directory value="Directory_1"/>
			
			<ReconnectAttemptLimit value="5"/>
			<ReconnectMinDelay value="3000" />
			<ReconnectMaxDelay value="3000" />
			<!-- XmlTraceFileName value="EmaMyTrace3"/ -->
			<XmlTraceMaxFileSize value="66666666" />
			<XmlTraceToStdout value="0" />
			<XmlTraceToFile value="0" />
			<XmlTraceFileName value="log_test_server"/>
			<XmlTraceToMultipleFiles value="1" />
			<XmlTraceWrite value="1"/>
			<XmlTraceRead value="1"/>
			<XmlTracePing value="1"/>
			<XmlTraceHex value="1"/>
		</NiProvider>
	</NiProviderList>
</NiProviderGroup>

<ChannelGroup>
	<ChannelList>
		<Channel>
			<Name value="Channel_1"/>
			<!-- ChannelType possible values are:	-->
			<!-- ChannelType::RSSL_SOCKET    - TCP IP connection type		-->
			<!-- ChannelType::RSSL_HTTP      - Http tunnel connection type	-->
			<!-- ChannelType::RSSL_ENCRYPTED - Https tunnel connection type	-->
			<ChannelType value="ChannelType::RSSL_SOCKET"/>
			<!-- CompressionType is optional: defaulted to None	-->
			<!-- possible values: None, ZLib, LZ4		        -->
			<CompressionType value="CompressionType::None"/>
			<GuaranteedOutputBuffers value="5000"/>
			<!-- ConnectionPingTimeout is optional: defaulted to 30000	-->
			<ConnectionPingTimeout value="30000"/>
			<!-- TcpNodelay is optional: defaulted to 1 -->
			<!-- possible values: 1 (tcp_nodelay option set), 0 (tcp_nodelay not set) -->
			<TcpNodelay value="1"/>
			<Host value="localhost"/>
			<Port value="19001"/>
		</Channel>
		<Channel>
			<Name value="Channel_2"/>
			<ChannelType value="ChannelType::RSSL_SOCKET"/>
			<CompressionType value="CompressionType::None"/>
			<GuaranteedOutputBuffers value="5000"/>
			<Host value="localhost"/>
			<Port value="19002"/>
		</Channel>
		<Channel>
			<Name value="Channel_3"/>
			<ChannelType value="ChannelType::RSSL_SOCKET"/>
			<CompressionType value="CompressionType::None"/>
			<GuaranteedOutputBuffers value="5000"/>
			<Host value="localhost"/>
			<Port value="19003"/>
		</Channel>
		<Channel>
			<Name value="Channel_4"/>
			<ChannelType value="ChannelType::RSSL_SOCKET"/>
			<CompressionType value="CompressionType::None"/>
			<GuaranteedOutputBuffers value="5000"/>
			<Host value="localhost"/>
			<Port value="19004"/>
		</Channel>
	</ChannelList>
</ChannelGroup>


<SessionChannelGroup>
        <SessionChannelList>
                <SessionChannelInfo>
                        <Name value="Connection_1"/>
                        <ChannelSet value="Channel_1"/>
                        <ReconnectAttemptLimit value="2"/>
                        <ReconnectMinDelay value="1000"/>
                        <ReconnectMaxDelay value="1000"/>
                </SessionChannelInfo>
                <SessionChannelInfo>
                        <Name value="Connection_2"/>
                        <ChannelSet value="Channel_2"/>
                        <ReconnectAttemptLimit value="4"/>
                        <ReconnectMinDelay value="1000"/>
                        <ReconnectMaxDelay value="1000"/>
                </SessionChannelInfo>
				<SessionChannelInfo>
                        <Name value="Connection_3"/>
                        <ChannelSet value="Channel_1, Channel_2"/>
                        <ReconnectAttemptLimit value="2"/>
                        <ReconnectMinDelay value="1000"/>
                        <ReconnectMaxDelay value="1000"/>
                </SessionChannelInfo>
                <SessionChannelInfo>
                        <Name value="Connection_4"/>
                        <ChannelSet value="Channel_3, Channel_4"/>
                        <ReconnectAttemptLimit value="4"/>
                        <ReconnectMinDelay value="1000"/>
                        <ReconnectMaxDelay value="1000"/>
                </SessionChannelInfo>
        </SessionChannelList>
</SessionChannelGroup>


<!-- source directory refresh configuration used by provider -->
<DirectoryGroup>
	<!-- DefaultDirectory specifies Directory used as default if providers do not specify Directory name -->
	<DefaultDirectory value="Directory_1"/>
	<DirectoryList>
		<!-- providers refer to the Directory by name	-->
		<!-- Directory is a set of Services (one or more) on which a provider will provide item data	-->
		<Directory>
			<Name value="Directory_1"/>
			<Service>
				<Name value="TEST_NI_PUB"/>
				<InfoFilter>
					<!-- optional value; if not specified EMA will assign it -->
					<ServiceId value="11"/>
					<!-- optional value	-->
					<Vendor value="company name"/>
					<!-- possible values: 0 - means consolidation service, 1 - means original provider	-->
					<IsSource value="0"/>
					<!-- an array of market domains supported by this service	-->
					<!-- domains defined in the RDM Usage Guide may be refered by name -->
					<!-- names of the RDM defined domains are listed in the EmaRdm.h file -->
					<!-- e.g. MMT_MARKET_PRICE, MMT_MARKET_BY_ORDER 	-->
					<!-- note that the capabilities may be specified with names and or numbers -->
					<Capabilities>
						<CapabilitiesEntry value="MMT_MARKET_PRICE"/>
						<CapabilitiesEntry value="MMT_MARKET_BY_ORDER"/>
					</Capabilities>
					<!-- list of dictionary names specified in the DictionaryGroup	-->
					<!-- EMA will populate the Service::InfoFilter::DictionariesProvided element -->
					<!-- with the respective <>ItemName values -->
					<DictionariesProvided>
						<DictionariesProvidedEntry value="Dictionary_3"/>
					</DictionariesProvided>

					<!-- list of dictionary names specified in the DictionaryGroup	-->
					<!-- EMA will populate the Service::InfoFilter::DictionariesUsed element -->
					<!-- with the respective <>ItemName values	-->
					<DictionariesUsed>
						<DictionariesUsedEntry value="Dictionary_3"/>
					</DictionariesUsed>
					<!-- list of QoS values supported by this service	-->
					<!-- possible values are listed in the OmmQos.h file of the EMA	-->
					<QoS>
						<QoSEntry>
							<Timeliness value="Timeliness::RealTime"/>
							<Rate value="Rate::TickByTick"/>
						</QoSEntry>
						<QoSEntry>
							<Timeliness value="Timeliness::InexactDelayed"/>
							<Rate value="Rate::JustInTimeConflated"/>
						</QoSEntry>
					</QoS>
					<!-- 0 means does not support, 1 - means supports QoS range -->
					<SupportsQoSRange value="0"/>
					<!-- name of item list	-->
					<ItemList value="#.itemlist"/>
					<!-- 0 means does not accept, 1 - means accepts consumer status	-->
					<AcceptingConsumerStatus value="0"/>
					<!-- 0 means does not support, 1 - means supports out of band snapshots -->
					<SupportsOutOfBandSnapshots value="0"/>
				</InfoFilter>
				<!-- StateFilter is optional	-->
				<!-- EMA will default the values as follows: -->
				<!-- for interactive provider		-->
				<!--	- ServiceState is "up" and AcceptingRequests is "Yes"	-->
				<!-- for non interactive provider	-->
				<!--	- ServiceState is "up" and AcceptingRequests is "No"	-->
				<StateFilter>
					<!-- 0 means service is down, 1 - means service is up (default; 1) -->
					<ServiceState value="1"/>
					<!-- 0 means service does not accept, 1 - means service accepts (default; 1) -->
					<AcceptingRequests value="1"/>
					<!-- optional; specifies status change to apply to all items provided by this service -->
					<!-- possible values are listed in the OmmState.h file of the EMA -->
					<Status>
						<!-- possible values are: Open, Close, CloseRecover -->
						<StreamState value="StreamState::Open"/>
						<!-- possibe values are: NoChange, Ok, Suspect	-->
						<DataState value="DataState::Ok"/>
						<!-- possible values are: None, DacsDown, etc	-->
						<StatusCode value="StatusCode::None"/>
						<!-- a text field	-->
						<StatusText value=""/>
					</Status>
				</StateFilter>
			</Service>
			<Service>
				<Name value="NI_PUB_1"/>
				<InfoFilter>
					<ServiceId value="2"/>
					<DictionariesProvided>
						<DictionariesProvidedEntry value="Dictionary_3"/>
					</DictionariesProvided>
					<DictionariesUsed>
						<DictionariesUsedEntry value="Dictionary_3"/>
					</DictionariesUsed>
					<Vendor value="company name"/>
					<IsSource value="0"/>
					<Capabilities>
						<CapabilitiesEntry value="6"/>
						<CapabilitiesEntry value="MMT_MARKET_BY_ORDER"/>
					</Capabilities>
					<QoS>
						<QoSEntry>
							<Timeliness value="Timeliness::RealTime"/>
							<Rate value="Rate::TickByTick"/>
						</QoSEntry>
					</QoS>
					<SupportsQoSRange value="0"/>
					<ItemList value="#.itemlist"/>
					<AcceptingConsumerStatus value="0"/>
					<SupportsOutOfBandSnapshots value="0"/>
				</InfoFilter>
				<StateFilter>
					<ServiceState value="1"/>
					<AcceptingRequests value="1"/>
					<Status>
						<StreamState value="StreamState::Open"/>
						<DataState value="DataState::Ok"/>
						<StatusCode value="StatusCode::None"/>
						<StatusText value=""/>
					</Status>
				</StateFilter>
			</Service>
		</Directory>
	</DirectoryList>
</DirectoryGroup>

<DictionaryGroup>
	<DictionaryList>
		<Dictionary>
			<Name value="Dictionary_1"/>
			<!-- dictionaryType is optional: defaulted to ChannelDictionary" -->
			<!-- possible values: ChannelDictionary, FileDictionary -->
			<!-- if dictionaryType is set to ChannelDictionary, file names are ignored -->
			<DictionaryType value="DictionaryType::ChannelDictionary"/>
		</Dictionary>
		<Dictionary>
			<Name value="Dictionary_2"/>
			<DictionaryType value="DictionaryType::FileDictionary"/>
			<!-- dictionary names are optional: defaulted to RDMFieldDictionary and enumtype.def -->
			<RdmFieldDictionaryFileName value="./RDMFieldDictionary"/>
			<EnumTypeDefFileName value="./etc/enumtype.def"/>
		</Dictionary>
		<Dictionary>
			<Name value="Dictionary_3"/>
			<!-- providers always assume DictionaryType = DictionaryType::FileDictionary -->
			<DictionaryType value="DictionaryType::FileDictionary"/>
			<!-- dictionary file names are optional: defaulted to ./RDMFieldDictionary and ./enumtype.def -->
			<RdmFieldDictionaryFileName value="../../etc/RDMFieldDictionary"/>
			<EnumTypeDefFileName value="../../etc/enumtype.def"/>
			<!-- <dictionary>ItemName represents the names shown in DictionariesProvided and DictionariesUsed
				elements of the Directory InfoFilter -->
			<!-- <dictionary>ItemName is optional; default values are "RWFFld" for the RdmFieldDictionary
				and "RWFEnum" for the enumtype.def -->
			<RdmFieldDictionaryItemName value="RWFFld"/>
			<EnumTypeDefItemName value="RWFEnum"/>
		</Dictionary>
	</DictionaryList>
</DictionaryGroup>
</EmaConfig>
